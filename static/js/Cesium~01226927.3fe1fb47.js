(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cesium~01226927"],{"0523":function(e,t,n){"use strict";var i=n("9937"),a=n("2f63");function r(e){return i["a"].shader(e,(function(e){s(e)})),i["a"].buffer(e,(function(e){s(e)})),i["a"].image(e,(function(e){s(e)})),s(e),e}function s(e){e.extras=Object(a["a"])(e.extras)?e.extras:{},e.extras._pipeline=Object(a["a"])(e.extras._pipeline)?e.extras._pipeline:{}}t["a"]=r},"169e":function(e,t,n){"use strict";var i=n("9937"),a=n("d4da"),r=n("2f63");function s(e,t){a["a"].typeOf.object("material",e),a["a"].defined("handler",t);const n=e.pbrMetallicRoughness;if(Object(r["a"])(n)){if(Object(r["a"])(n.baseColorTexture)){const e=n.baseColorTexture,i=t(e.index,e);if(Object(r["a"])(i))return i}if(Object(r["a"])(n.metallicRoughnessTexture)){const e=n.metallicRoughnessTexture,i=t(e.index,e);if(Object(r["a"])(i))return i}}if(Object(r["a"])(e.extensions)){const n=e.extensions.KHR_materials_pbrSpecularGlossiness;if(Object(r["a"])(n)){if(Object(r["a"])(n.diffuseTexture)){const e=n.diffuseTexture,i=t(e.index,e);if(Object(r["a"])(i))return i}if(Object(r["a"])(n.specularGlossinessTexture)){const e=n.specularGlossinessTexture,i=t(e.index,e);if(Object(r["a"])(i))return i}}const i=e.extensions.KHR_materials_common;if(Object(r["a"])(i)){const e=i.values.diffuse,n=i.values.ambient,a=i.values.emission,s=i.values.specular;if(Object(r["a"])(e)&&Object(r["a"])(e.index)){const n=t(e.index,e);if(Object(r["a"])(n))return n}if(Object(r["a"])(n)&&Object(r["a"])(n.index)){const e=t(n.index,n);if(Object(r["a"])(e))return e}if(Object(r["a"])(a)&&Object(r["a"])(a.index)){const e=t(a.index,a);if(Object(r["a"])(e))return e}if(Object(r["a"])(s)&&Object(r["a"])(s.index)){const e=t(s.index,s);if(Object(r["a"])(e))return e}}}const s=i["a"].materialValue(e,(function(e){if(Object(r["a"])(e.index)){const n=t(e.index,e);if(Object(r["a"])(n))return n}}));if(Object(r["a"])(s))return s;if(Object(r["a"])(e.emissiveTexture)){const n=e.emissiveTexture,i=t(n.index,n);if(Object(r["a"])(i))return i}if(Object(r["a"])(e.normalTexture)){const n=e.normalTexture,i=t(n.index,n);if(Object(r["a"])(i))return i}if(Object(r["a"])(e.occlusionTexture)){const n=e.occlusionTexture,i=t(n.index,n);if(Object(r["a"])(i))return i}}t["a"]=s},"2b0d":function(e,t,n){"use strict";var i=n("3eaa"),a=n("8e67"),r=n("2f63");function s(e,t){let n=e.extensionsRequired;Object(r["a"])(n)||(n=[],e.extensionsRequired=n),Object(a["a"])(n,t,!0),Object(i["a"])(e,t)}t["a"]=s},"2c8f":function(e,t,n){"use strict";var i=n("9937"),a=n("2f63");function r(e){return i["a"].shader(e,(function(e){s(e)})),i["a"].buffer(e,(function(e){s(e)})),i["a"].image(e,(function(e){s(e)})),s(e),e}function s(e){Object(a["a"])(e.extras)&&(Object(a["a"])(e.extras._pipeline)&&delete e.extras._pipeline,0===Object.keys(e.extras).length&&delete e.extras)}t["a"]=r},"324a":function(e,t,n){"use strict";var i=n("7229"),a=n("8dfe"),r=n("535a"),s=n("2f63"),o=n("21d7"),c=n("5d5c"),u=n("eace"),f=n("d4ed"),l=n("283e"),h=n("a89b"),b=n("d3a0"),d=n("64ac");function m(e){e=Object(r["a"])(e,{}),this.defaultAlpha=void 0,this.defaultNightAlpha=void 0,this.defaultDayAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=1.9,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0;const t=e.url,n=Object(r["a"])(e.path,"/default_map"),i=f["a"].createIfNeeded(t).getDerivedResource({url:"/"===n[0]?n.substring(1):n});i.appendForwardSlash(),this._resource=i,this._url=t,this._path=n,this._tileDiscardPolicy=e.tileDiscardPolicy,this._channel=e.channel,this._requestType="ImageryMaps",this._credit=new a["a"](`<a href="http://www.google.com/enterprise/mapsearth/products/earthenterprise.html"><img src="${m.logoUrl}" title="Google Imagery"/></a>`),this._tilingScheme=void 0,this._version=void 0,this._tileWidth=256,this._tileHeight=256,this._maximumLevel=e.maximumLevel,this._errorEvent=new o["a"],this._ready=!1;const d=i.getDerivedResource({url:"query",queryParameters:{request:"Json",vars:"geeServerDefs",is2d:"t"}}),p=this;let O;function _(t){let n,i,a;try{n=JSON.parse(t)}catch(r){n=JSON.parse(t.replace(/([\[\{,])[\n\r ]*([A-Za-z0-9]+)[\n\r ]*:/g,'$1"$2":'))}for(let e=0;e<n.layers.length;e++)if(n.layers[e].id===p._channel){i=n.layers[e];break}if(!Object(s["a"])(i))return a=`Could not find layer with channel (id) of ${p._channel}.`,O=h["a"].reportError(O,p,p._errorEvent,a),O.retry?j():Promise.reject(new l["a"](a));if(!Object(s["a"])(i.version))return a=`Could not find a version in channel (id) ${p._channel}.`,O=h["a"].reportError(O,p,p._errorEvent,a),O.retry?j():Promise.reject(new l["a"](a));if(p._version=i.version,Object(s["a"])(n.projection)&&"flat"===n.projection)p._tilingScheme=new c["a"]({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,rectangle:new u["a"](-Math.PI,-Math.PI,Math.PI,Math.PI),ellipsoid:e.ellipsoid});else{if(Object(s["a"])(n.projection)&&"mercator"!==n.projection)return a=`Unsupported projection ${n.projection}.`,O=h["a"].reportError(O,p,p._errorEvent,a),O.retry?j():Promise.reject(new l["a"](a));p._tilingScheme=new b["a"]({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,ellipsoid:e.ellipsoid})}return p._ready=!0,h["a"].reportSuccess(O),Promise.resolve(!0)}function g(e){const t=Object(r["a"])(e.message,`An error occurred while accessing ${d.url}.`);return O=h["a"].reportError(O,p,p._errorEvent,t),Promise.reject(new l["a"](t))}function j(){return d.fetchText().then(_).catch(g)}this._readyPromise=j()}Object.defineProperties(m.prototype,{url:{get:function(){return this._url}},path:{get:function(){return this._path}},proxy:{get:function(){return this._resource.proxy}},channel:{get:function(){return this._channel}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return this._maximumLevel}},minimumLevel:{get:function(){return 0}},tilingScheme:{get:function(){return this._tilingScheme}},version:{get:function(){return this._version}},requestType:{get:function(){return this._requestType}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!0}}}),m.prototype.getTileCredits=function(e,t,n){},m.prototype.requestImage=function(e,t,n,i){const a=this._resource.getDerivedResource({url:"query",request:i,queryParameters:{request:this._requestType,channel:this._channel,version:this._version,x:e,y:t,z:n+1}});return d["a"].loadImage(this,a)},m.prototype.pickFeatures=function(e,t,n,i,a){},m._logoUrl=void 0,Object.defineProperties(m,{logoUrl:{get:function(){return Object(s["a"])(m._logoUrl)||(m._logoUrl=Object(i["a"])("Assets/Images/google_earth_credit.png")),m._logoUrl},set:function(e){m._logoUrl=e}}}),t["a"]=m},3441:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("93da"),a=n("535a"),r=n("2f63"),s=n("e42d"),o=n("a913"),c=n("03f1"),u=n("23b6"),f=n("4b18"),l=n("568a"),h=n("aa13"),b=n("2773"),d=n("f25b");function m(e){e=Object(a["a"])(e,a["a"].EMPTY_OBJECT);const t=e.resourceCache,n=e.gltf,i=e.textureInfo,r=e.gltfResource,s=e.baseResource,o=e.supportedImageFormats,c=e.cacheKey,u=Object(a["a"])(e.asynchronous,!0),l=i.index,h=f["a"].getImageIdFromTexture({gltf:n,textureId:l,supportedImageFormats:o});this._resourceCache=t,this._gltf=n,this._textureInfo=i,this._imageId=h,this._gltfResource=r,this._baseResource=s,this._cacheKey=c,this._asynchronous=u,this._imageLoader=void 0,this._image=void 0,this._mipLevels=void 0,this._texture=void 0,this._state=b["a"].UNLOADED,this._promise=void 0,this._process=function(e,t){}}Object(r["a"])(Object.create)&&(m.prototype=Object.create(h["a"].prototype),m.prototype.constructor=m),Object.defineProperties(m.prototype,{promise:{get:function(){return this._promise}},cacheKey:{get:function(){return this._cacheKey}},texture:{get:function(){return this._texture}}});const p=new O;function O(){this.gltf=void 0,this.textureInfo=void 0,this.image=void 0,this.context=void 0,this.texture=void 0}function _(e,t,n,a,l){const h=n.internalFormat;let b=!1;s["a"].isCompressedFormat(h)&&!Object(r["a"])(a)&&(b=!0);const m=f["a"].createSampler({gltf:e,textureInfo:t,compressedTextureNoMipmap:b}),p=m.minificationFilter,O=m.wrapS,_=m.wrapT,g=p===c["a"].NEAREST_MIPMAP_NEAREST||p===c["a"].NEAREST_MIPMAP_LINEAR||p===c["a"].LINEAR_MIPMAP_NEAREST||p===c["a"].LINEAR_MIPMAP_LINEAR,j=!Object(r["a"])(h)&&g,y=j||O===u["a"].REPEAT||O===u["a"].MIRRORED_REPEAT||_===u["a"].REPEAT||_===u["a"].MIRRORED_REPEAT,x=!i["a"].isPowerOfTwo(n.width)||!i["a"].isPowerOfTwo(n.height),v=y&&x;let w;return Object(r["a"])(h)?(!l.webgl2&&s["a"].isCompressedFormat(h)&&x&&y&&console.warn("Compressed texture uses REPEAT or MIRRORED_REPEAT texture wrap mode and dimensions are not powers of two. The texture may be rendered incorrectly."),w=o["a"].create({context:l,source:{arrayBufferView:n.bufferView,mipLevels:a},width:n.width,height:n.height,pixelFormat:n.internalFormat,sampler:m})):(v&&(n=Object(d["a"])(n)),w=o["a"].create({context:l,source:n,sampler:m,flipY:!1,skipColorSpaceConversion:!0})),j&&w.generateMipmap(),w}m.prototype.load=function(){const e=this._resourceCache,t=e.loadImage({gltf:this._gltf,imageId:this._imageId,gltfResource:this._gltfResource,baseResource:this._baseResource});this._imageLoader=t,this._state=b["a"].LOADING;const n=this,i=new Promise((function(e){n._process=function(t,n){if(Object(r["a"])(t._texture))return;if(!Object(r["a"])(t._image))return;let i;if(t._asynchronous){const e=p;e.set(t._gltf,t._textureInfo,t._image,t._mipLevels,n.context);const a=n.jobScheduler;if(!a.execute(e,l["a"].TEXTURE))return;i=e.texture}else i=_(t._gltf,t._textureInfo,t._image,t._mipLevels,n.context);t.unload(),t._texture=i,t._state=b["a"].READY,e(t)}}));return this._promise=t.promise.then((function(){if(!n.isDestroyed())return n._image=t.image,n._mipLevels=t.mipLevels,n._state=b["a"].PROCESSING,i})).catch((function(e){if(n.isDestroyed())return;n.unload(),n._state=b["a"].FAILED;const t="Failed to load texture";return Promise.reject(n.getError(t,e))})),this._promise},O.prototype.set=function(e,t,n,i,a){this.gltf=e,this.textureInfo=t,this.image=n,this.mipLevels=i,this.context=a},O.prototype.execute=function(){this.texture=_(this.gltf,this.textureInfo,this.image,this.mipLevels,this.context)},m.prototype.process=function(e){return this._process(this,e)},m.prototype.unload=function(){Object(r["a"])(this._texture)&&this._texture.destroy(),Object(r["a"])(this._imageLoader)&&this._resourceCache.unload(this._imageLoader),this._imageLoader=void 0,this._image=void 0,this._mipLevels=void 0,this._texture=void 0,this._gltf=void 0}},"352a":function(e,t,n){"use strict";var i=n("2f63");function a(e,t){return Object(i["a"])(e.extensionsUsed)&&e.extensionsUsed.indexOf(t)>=0}t["a"]=a},3921:function(e,t,n){"use strict";var i=n("8e67");function a(e,t){const n={byteLength:t.length,extras:{_pipeline:{source:t}}},a=Object(i["a"])(e.buffers,n),r={buffer:a,byteOffset:0,byteLength:t.length};return Object(i["a"])(e.bufferViews,r)}t["a"]=a},"3eaa":function(e,t,n){"use strict";var i=n("8e67"),a=n("2f63");function r(e,t){let n=e.extensionsUsed;Object(a["a"])(n)||(n=[],e.extensionsUsed=n),Object(i["a"])(n,t,!0)}t["a"]=r},"3f80":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("535a"),a=n("2f63"),r=n("c763"),s=n("8086"),o=n("17a9"),c=n("aa13"),u=n("2773");function f(e){e=Object(i["a"])(e,i["a"].EMPTY_OBJECT);const t=e.gltf,n=e.extension,a=e.extensionLegacy,r=e.gltfResource,s=e.baseResource,o=e.supportedImageFormats,c=e.cacheKey,f=Object(i["a"])(e.asynchronous,!0);this._gltfResource=r,this._baseResource=s,this._gltf=t,this._extension=n,this._extensionLegacy=a,this._supportedImageFormats=o,this._cacheKey=c,this._asynchronous=f,this._bufferViewLoaders=[],this._textureLoaders=[],this._schemaLoader=void 0,this._structuralMetadata=void 0,this._state=u["a"].UNLOADED,this._promise=void 0}function l(e,t){for(const n in e)if(e.hasOwnProperty(n)){const i=e[n],r=i.values,s=i.arrayOffsets,o=i.stringOffsets;Object(a["a"])(r)&&(t[r]=!0),Object(a["a"])(s)&&(t[s]=!0),Object(a["a"])(o)&&(t[o]=!0)}}function h(e,t){for(const n in e)if(e.hasOwnProperty(n)){const i=e[n],r=i.bufferView,s=i.arrayOffsetBufferView,o=i.stringOffsetBufferView;Object(a["a"])(r)&&(t[r]=!0),Object(a["a"])(s)&&(t[s]=!0),Object(a["a"])(o)&&(t[o]=!0)}}function b(e){const t=e.propertyTables,n={};if(Object(a["a"])(t))for(let i=0;i<t.length;i++){const e=t[i];l(e.properties,n)}return n}function d(e){const t=e.featureTables,n={};if(Object(a["a"])(t))for(const i in t)if(t.hasOwnProperty(i)){const e=t[i],r=e.properties;Object(a["a"])(r)&&h(r,n)}return n}function m(e){let t;t=Object(a["a"])(e._extension)?b(e._extension):d(e._extensionLegacy);const n=[],i={};for(const a in t)if(t.hasOwnProperty(a)){const t=o["a"].loadBufferView({gltf:e._gltf,bufferViewId:parseInt(a),gltfResource:e._gltfResource,baseResource:e._baseResource});n.push(t.promise),e._bufferViewLoaders.push(t),i[a]=t}return Promise.all(n).then((function(){const t={};for(const e in i)if(i.hasOwnProperty(e)){const n=i[e],a=new Uint8Array(n.typedArray);t[e]=a}return x(e),t}))}function p(e){const t={},n=e.propertyTextures;if(Object(a["a"])(n))for(let i=0;i<n.length;i++){const e=n[i],r=e.properties;Object(a["a"])(r)&&O(r,t)}return t}function O(e,t){for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];t[i.index]=i}}function _(e){const t={},n=e.featureTextures;if(Object(a["a"])(n))for(const i in n)if(n.hasOwnProperty(i)){const e=n[i],r=e.properties;Object(a["a"])(r)&&g(r,t)}return t}function g(e,t){for(const n in e)if(e.hasOwnProperty(n)){const i=e[n],a=i.texture;t[a.index]=a}}function j(e){let t;t=Object(a["a"])(e._extension)?p(e._extension):_(e._extensionLegacy);const n=e._gltf,i=e._gltfResource,r=e._baseResource,s=e._supportedImageFormats,c=e._asynchronous,u=[],f={};for(const a in t)if(t.hasOwnProperty(a)){const l=o["a"].loadTexture({gltf:n,textureInfo:t[a],gltfResource:i,baseResource:r,supportedImageFormats:s,asynchronous:c});u.push(l.promise),e._textureLoaders.push(l),f[a]=l}return Promise.all(u).then((function(){const e={};for(const t in f)if(f.hasOwnProperty(t)){const n=f[t];e[t]=n.texture}return e}))}function y(e){const t=Object(i["a"])(e._extension,e._extensionLegacy);let n;if(Object(a["a"])(t.schemaUri)){const i=e._baseResource.getDerivedResource({url:t.schemaUri});n=o["a"].loadSchema({resource:i})}else n=o["a"].loadSchema({schema:t.schema});return e._schemaLoader=n,n.promise.then((function(e){return e.schema}))}function x(e){const t=e._bufferViewLoaders,n=t.length;for(let i=0;i<n;++i)o["a"].unload(t[i]);e._bufferViewLoaders.length=0}function v(e){const t=e._textureLoaders,n=t.length;for(let i=0;i<n;++i)o["a"].unload(t[i]);e._textureLoaders.length=0}Object(a["a"])(Object.create)&&(f.prototype=Object.create(c["a"].prototype),f.prototype.constructor=f),Object.defineProperties(f.prototype,{promise:{get:function(){return this._promise}},cacheKey:{get:function(){return this._cacheKey}},structuralMetadata:{get:function(){return this._structuralMetadata}}}),f.prototype.load=function(){const e=m(this),t=j(this),n=y(this);this._gltf=void 0,this._state=u["a"].LOADING;const i=this;this._promise=Promise.all([e,t,n]).then((function(e){if(i.isDestroyed())return;const t=e[0],n=e[1],o=e[2];return Object(a["a"])(i._extension)?i._structuralMetadata=Object(r["a"])({extension:i._extension,schema:o,bufferViews:t,textures:n}):i._structuralMetadata=Object(s["a"])({extension:i._extensionLegacy,schema:o,bufferViews:t,textures:n}),i._state=u["a"].READY,i})).catch((function(e){if(i.isDestroyed())return;i.unload(),i._state=u["a"].FAILED;const t="Failed to load structural metadata";return Promise.reject(i.getError(t,e))}))},f.prototype.process=function(e){if(this._state!==u["a"].LOADING)return;const t=this._textureLoaders,n=t.length;for(let i=0;i<n;++i){const n=t[i];n.process(e)}},f.prototype.unload=function(){x(this),v(this),Object(a["a"])(this._schemaLoader)&&o["a"].unload(this._schemaLoader),this._schemaLoader=void 0,this._structuralMetadata=void 0}},"4d77":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("535a"),a=n("2f63"),r=n("f20a"),s=n("8b68"),o=n("1da3"),c=n("568a"),u=n("8bde"),f=n("aa13"),l=n("2773"),h=n("c8d1"),b=n("abab");function d(e){e=Object(i["a"])(e,i["a"].EMPTY_OBJECT);const t=e.resourceCache,n=e.gltf,a=e.gltfResource,r=e.baseResource,s=e.bufferViewId,o=e.draco,c=e.attributeSemantic,u=e.accessorId,f=e.cacheKey,h=Object(i["a"])(e.asynchronous,!0),b=Object(i["a"])(e.dequantize,!1),d=Object(i["a"])(e.loadBuffer,!1),m=Object(i["a"])(e.loadTypedArray,!1);this._resourceCache=t,this._gltfResource=a,this._baseResource=r,this._gltf=n,this._bufferViewId=s,this._draco=o,this._attributeSemantic=c,this._accessorId=u,this._cacheKey=f,this._asynchronous=h,this._dequantize=b,this._loadBuffer=d,this._loadTypedArray=m,this._bufferViewLoader=void 0,this._dracoLoader=void 0,this._quantization=void 0,this._typedArray=void 0,this._buffer=void 0,this._state=l["a"].UNLOADED,this._promise=void 0,this._process=function(e,t){}}function m(e,t,n,i){const a=e.quantizationBits,r=(1<<a)-1,s=1/r,c=new u["a"].Quantization;if(c.componentDatatype=t,c.octEncoded=e.octEncoded,c.octEncodedZXY=!0,c.type=i,c.octEncoded)c.type=o["a"].VEC2,c.normalizationRange=r;else{const t=o["a"].getMathType(i);if(t===Number){const t=e.range;c.quantizedVolumeOffset=e.minValues[0],c.quantizedVolumeDimensions=t,c.normalizationRange=r,c.quantizedVolumeStepSize=t*s}else{c.quantizedVolumeOffset=t.unpack(e.minValues),c.normalizationRange=t.unpack(new Array(n).fill(r));const i=new Array(n).fill(e.range);c.quantizedVolumeDimensions=t.unpack(i);const a=i.map((function(e){return e*s}));c.quantizedVolumeStepSize=t.unpack(a)}}return c}function p(e){const t=e._resourceCache,n=t.loadDraco({gltf:e._gltf,draco:e._draco,gltfResource:e._gltfResource,baseResource:e._baseResource});return e._dracoLoader=n,e._state=l["a"].LOADING,n.promise.then((function(){if(e.isDestroyed())return;const t=n.decodedData.vertexAttributes,i=e._attributeSemantic,r=t[i],s=e._accessorId,o=e._gltf.accessors[s],c=o.type,u=r.array,f=r.data.quantization;return Object(a["a"])(f)&&(e._quantization=m(f,r.data.componentDatatype,r.data.componentsPerAttribute,c)),e._typedArray=new Uint8Array(u.buffer,u.byteOffset,u.byteLength),e._state=l["a"].PROCESSING,e}))}function O(e){const t=e._resourceCache,n=t.loadBufferView({gltf:e._gltf,bufferViewId:e._bufferViewId,gltfResource:e._gltfResource,baseResource:e._baseResource});return e._state=l["a"].LOADING,e._bufferViewLoader=n,n.promise.then((function(){if(!e.isDestroyed())return e._typedArray=n.typedArray,e._state=l["a"].PROCESSING,e}))}function _(e,t){e.unload(),e._state=l["a"].FAILED;const n="Failed to load vertex buffer";return t=e.getError(n,t),Promise.reject(t)}function g(){this.typedArray=void 0,this.dequantize=void 0,this.componentType=void 0,this.type=void 0,this.count=void 0,this.context=void 0,this.buffer=void 0}function j(e,t,n,i,a,o){t&&n!==b["a"].FLOAT&&(e=h["a"].dequantize(e,n,i,a));const c=r["a"].createVertexBuffer({typedArray:e,context:o,usage:s["a"].STATIC_DRAW});return c.vertexArrayDestroyable=!1,c}Object(a["a"])(Object.create)&&(d.prototype=Object.create(f["a"].prototype),d.prototype.constructor=d),Object.defineProperties(d.prototype,{promise:{get:function(){return this._promise}},cacheKey:{get:function(){return this._cacheKey}},buffer:{get:function(){return this._buffer}},typedArray:{get:function(){return this._typedArray}},quantization:{get:function(){return this._quantization}}}),d.prototype.load=function(){let e;e=Object(a["a"])(this._draco)?p(this):O(this);const t=this,n=new g,i=new Promise((function(e){t._process=function(t,i){if(t._state===l["a"].READY)return;const r=t._typedArray,s=t._dequantize;if(Object(a["a"])(t._dracoLoader)&&t._dracoLoader.process(i),Object(a["a"])(t._bufferViewLoader)&&t._bufferViewLoader.process(i),!Object(a["a"])(r))return;const o=t._gltf.accessors[t._accessorId];let u;if(t._loadBuffer&&t._asynchronous){const e=n;e.set(r,s,o.componentType,o.type,o.count,i.context);const t=i.jobScheduler;if(!t.execute(e,c["a"].BUFFER))return;u=e.buffer}else t._loadBuffer&&(u=j(r,s,o.componentType,o.type,o.count,i.context));t.unload(),t._buffer=u,t._typedArray=t._loadTypedArray?r:void 0,t._state=l["a"].READY,e(t)}}));return this._promise=e.then((function(){if(!t.isDestroyed())return i})).catch((function(e){if(!t.isDestroyed())return _(t,e)})),this._promise},g.prototype.set=function(e,t,n,i,a,r){this.typedArray=e,this.dequantize=t,this.componentType=n,this.type=i,this.count=a,this.context=r},g.prototype.execute=function(){this.buffer=j(this.typedArray,this.dequantize,this.componentType,this.type,this.count,this.context)},d.prototype.process=function(e){return this._process(this,e)},d.prototype.unload=function(){Object(a["a"])(this._buffer)&&this._buffer.destroy();const e=this._resourceCache;Object(a["a"])(this._bufferViewLoader)&&e.unload(this._bufferViewLoader),Object(a["a"])(this._dracoLoader)&&e.unload(this._dracoLoader),this._bufferViewLoader=void 0,this._dracoLoader=void 0,this._typedArray=void 0,this._buffer=void 0,this._gltf=void 0}},"555f":function(e,t,n){"use strict";var i=n("8e67"),a=n("9937"),r=n("c293"),s=n("535a"),o=n("2f63"),c=n("daa2");function u(e){a["a"].accessor(e,(function(e){Object(o["a"])(e.bufferView)&&(e.byteOffset=Object(s["a"])(e.byteOffset,0))})),a["a"].bufferView(e,(function(e){Object(o["a"])(e.buffer)&&(e.byteOffset=Object(s["a"])(e.byteOffset,0))})),a["a"].mesh(e,(function(t){a["a"].meshPrimitive(t,(function(t){if(t.mode=Object(s["a"])(t.mode,c["a"].TRIANGLES),!Object(o["a"])(t.material)){Object(o["a"])(e.materials)||(e.materials=[]);const n={name:"default"};t.material=Object(i["a"])(e.materials,n)}}))})),a["a"].accessorContainingVertexAttributeData(e,(function(t){const n=e.accessors[t],i=n.bufferView;if(n.normalized=Object(s["a"])(n.normalized,!1),Object(o["a"])(i)){const t=e.bufferViews[i];t.byteStride=Object(r["a"])(e,n),t.target=c["a"].ARRAY_BUFFER}})),a["a"].accessorContainingIndexData(e,(function(t){const n=e.accessors[t],i=n.bufferView;if(Object(o["a"])(i)){const t=e.bufferViews[i];t.target=c["a"].ELEMENT_ARRAY_BUFFER}})),a["a"].material(e,(function(e){const t=Object(s["a"])(e.extensions,s["a"].EMPTY_OBJECT),n=t.KHR_materials_common;if(Object(o["a"])(n)){const e=n.technique,t=Object(o["a"])(n.values)?n.values:{};return n.values=t,t.ambient=Object(o["a"])(t.ambient)?t.ambient:[0,0,0,1],t.emission=Object(o["a"])(t.emission)?t.emission:[0,0,0,1],t.transparency=Object(s["a"])(t.transparency,1),t.transparent=Object(s["a"])(t.transparent,!1),t.doubleSided=Object(s["a"])(t.doubleSided,!1),void("CONSTANT"!==e&&(t.diffuse=Object(o["a"])(t.diffuse)?t.diffuse:[0,0,0,1],"LAMBERT"!==e&&(t.specular=Object(o["a"])(t.specular)?t.specular:[0,0,0,1],t.shininess=Object(s["a"])(t.shininess,0))))}e.emissiveFactor=Object(s["a"])(e.emissiveFactor,[0,0,0]),e.alphaMode=Object(s["a"])(e.alphaMode,"OPAQUE"),e.doubleSided=Object(s["a"])(e.doubleSided,!1),"MASK"===e.alphaMode&&(e.alphaCutoff=Object(s["a"])(e.alphaCutoff,.5));const i=t.KHR_techniques_webgl;Object(o["a"])(i)&&a["a"].materialValue(e,(function(e){Object(o["a"])(e.index)&&l(e)})),l(e.emissiveTexture),l(e.normalTexture),l(e.occlusionTexture);const r=e.pbrMetallicRoughness;Object(o["a"])(r)&&(r.baseColorFactor=Object(s["a"])(r.baseColorFactor,[1,1,1,1]),r.metallicFactor=Object(s["a"])(r.metallicFactor,1),r.roughnessFactor=Object(s["a"])(r.roughnessFactor,1),l(r.baseColorTexture),l(r.metallicRoughnessTexture));const c=t.KHR_materials_pbrSpecularGlossiness;Object(o["a"])(c)&&(c.diffuseFactor=Object(s["a"])(c.diffuseFactor,[1,1,1,1]),c.specularFactor=Object(s["a"])(c.specularFactor,[1,1,1]),c.glossinessFactor=Object(s["a"])(c.glossinessFactor,1),l(c.specularGlossinessTexture))})),a["a"].animation(e,(function(e){a["a"].animationSampler(e,(function(e){e.interpolation=Object(s["a"])(e.interpolation,"LINEAR")}))}));const t=f(e);return a["a"].node(e,(function(e,n){const i=Object(o["a"])(t[n]);i||Object(o["a"])(e.translation)||Object(o["a"])(e.rotation)||Object(o["a"])(e.scale)?(e.translation=Object(s["a"])(e.translation,[0,0,0]),e.rotation=Object(s["a"])(e.rotation,[0,0,0,1]),e.scale=Object(s["a"])(e.scale,[1,1,1])):e.matrix=Object(s["a"])(e.matrix,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])})),a["a"].sampler(e,(function(e){e.wrapS=Object(s["a"])(e.wrapS,c["a"].REPEAT),e.wrapT=Object(s["a"])(e.wrapT,c["a"].REPEAT)})),Object(o["a"])(e.scenes)&&!Object(o["a"])(e.scene)&&(e.scene=0),e}function f(e){const t={};return a["a"].animation(e,(function(e){a["a"].animationChannel(e,(function(e){const n=e.target,i=n.node,a=n.path;"translation"!==a&&"rotation"!==a&&"scale"!==a||(t[i]=!0)}))})),t}function l(e){Object(o["a"])(e)&&(e.texCoord=Object(s["a"])(e.texCoord,0))}t["a"]=u},"586e":function(e,t,n){"use strict";var i=n("2f63");function a(e,t){const n=e.extensionsRequired;if(Object(i["a"])(n)){const i=n.indexOf(t);i>=0&&n.splice(i,1),0===n.length&&delete e.extensionsRequired}}t["a"]=a},"63aa":function(e,t,n){"use strict";var i=n("3eaa"),a=n("2b0d"),r=n("8e67"),s=n("9937"),o=n("2f63");function c(e){const t=e.techniques,n={},c={},u={};if(Object(o["a"])(t)){const t={programs:[],shaders:[],techniques:[]},f=e.glExtensionsUsed;delete e.glExtensionsUsed,s["a"].technique(e,(function(i,a){const l={name:i.name,program:void 0,attributes:{},uniforms:{}};let h;if(s["a"].techniqueAttribute(i,(function(e,t){h=i.parameters[e],l.attributes[t]={semantic:h.semantic}})),s["a"].techniqueUniform(i,(function(e,t){h=i.parameters[e],l.uniforms[t]={count:h.count,node:h.node,type:h.type,semantic:h.semantic,value:h.value},Object(o["a"])(n[a])||(n[a]={}),n[a][e]=t})),Object(o["a"])(u[i.program]))l.program=u[i.program];else{const n=e.programs[i.program],a={name:n.name,fragmentShader:void 0,vertexShader:void 0,glExtensions:f},s=e.shaders[n.fragmentShader];a.fragmentShader=Object(r["a"])(t.shaders,s,!0);const o=e.shaders[n.vertexShader];a.vertexShader=Object(r["a"])(t.shaders,o,!0),l.program=Object(r["a"])(t.programs,a),u[i.program]=l.program}c[a]=Object(r["a"])(t.techniques,l)})),t.techniques.length>0&&(Object(o["a"])(e.extensions)||(e.extensions={}),e.extensions.KHR_techniques_webgl=t,Object(i["a"])(e,"KHR_techniques_webgl"),Object(a["a"])(e,"KHR_techniques_webgl"))}return s["a"].material(e,(function(e){if(Object(o["a"])(e.technique)){const t={technique:c[e.technique]};s["a"].objectLegacy(e.values,(function(i,a){Object(o["a"])(t.values)||(t.values={});const r=n[e.technique][a];t.values[r]=i})),Object(o["a"])(e.extensions)||(e.extensions={}),e.extensions.KHR_techniques_webgl=t}delete e.technique,delete e.values})),delete e.techniques,delete e.programs,delete e.shaders,e}t["a"]=c},"6d42":function(e,t,n){"use strict";var i=n("535a"),a=n("2f63"),r=n("72b0");function s(e){e=Object(i["a"])(e,i["a"].EMPTY_OBJECT);const t=e.id,n=e.group,r=e.class,s=Object(a["a"])(n.properties)?n.properties:{};this._class=r,this._properties=s,this._id=t,this._extras=n.extras,this._extensions=n.extensions}Object.defineProperties(s.prototype,{class:{get:function(){return this._class}},id:{get:function(){return this._id}},extras:{get:function(){return this._extras}},extensions:{get:function(){return this._extensions}}}),s.prototype.hasProperty=function(e){return r["a"].hasProperty(e,this._properties,this._class)},s.prototype.hasPropertyBySemantic=function(e){return r["a"].hasPropertyBySemantic(e,this._properties,this._class)},s.prototype.getPropertyIds=function(e){return r["a"].getPropertyIds(this._properties,this._class,e)},s.prototype.getProperty=function(e){return r["a"].getProperty(e,this._properties,this._class)},s.prototype.setProperty=function(e,t){return r["a"].setProperty(e,t,this._properties,this._class)},s.prototype.getPropertyBySemantic=function(e){return r["a"].getPropertyBySemantic(e,this._properties,this._class)},s.prototype.setPropertyBySemantic=function(e,t){return r["a"].setPropertyBySemantic(e,t,this._properties,this._class)},t["a"]=s},8586:function(e,t,n){"use strict";function i(e){switch(e){case"SCALAR":return 1;case"VEC2":return 2;case"VEC3":return 3;case"VEC4":case"MAT2":return 4;case"MAT3":return 9;case"MAT4":return 16}}t["a"]=i},"89f5":function(e,t,n){"use strict";var i=n("0523"),a=n("c1bd"),r=n("535a"),s=n("2f63"),o=n("974b"),c=n("129b"),u=n("283e");const f=4;function l(e){const t=Object(o["a"])(e);if("glTF"!==t)throw new u["a"]("File is not valid binary glTF");const n=h(e,0,5),i=n[1];if(1!==i&&2!==i)throw new u["a"]("Binary glTF version is not 1 or 2");return 1===i?b(e,n):d(e,n)}function h(e,t,n){const i=new DataView(e.buffer),a=new Array(n);for(let r=0;r<n;++r)a[r]=i.getUint32(e.byteOffset+t+r*f,!0);return a}function b(e,t){const n=t[2],o=t[3],f=t[4];if(0!==f)throw new u["a"]("Binary glTF scene format is not JSON");const l=20,h=l+o,b=Object(c["a"])(e,l,o),d=JSON.parse(b);Object(i["a"])(d);const m=e.subarray(h,n),p=d.buffers;if(Object(s["a"])(p)&&Object.keys(p).length>0){const e=Object(r["a"])(p.binary_glTF,p.KHR_binary_glTF);Object(s["a"])(e)&&(e.extras._pipeline.source=m,delete e.uri)}return Object(a["a"])(d,"KHR_binary_glTF"),d}function d(e,t){const n=t[2];let a,r,o=12;while(o<n){const t=h(e,o,2),n=t[0],s=t[1];o+=8;const u=e.subarray(o,o+n);if(o+=n,1313821514===s){const e=Object(c["a"])(u);a=JSON.parse(e),Object(i["a"])(a)}else 5130562===s&&(r=u)}if(Object(s["a"])(a)&&Object(s["a"])(r)){const e=a.buffers;if(Object(s["a"])(e)&&e.length>0){const t=e[0];t.extras._pipeline.source=r}}return a}t["a"]=l},"8e67":function(e,t,n){"use strict";var i=n("535a");function a(e,t,n){if(n=Object(i["a"])(n,!1),n){const n=e.indexOf(t);if(n>-1)return n}return e.push(t),e.length-1}t["a"]=a},"917f":function(e,t,n){"use strict";var i=n("abab");function a(e){switch(e){case i["a"].BYTE:return function(e,t,n,i,a){for(let r=0;r<n;++r)a[r]=e.getInt8(t+r*i)};case i["a"].UNSIGNED_BYTE:return function(e,t,n,i,a){for(let r=0;r<n;++r)a[r]=e.getUint8(t+r*i)};case i["a"].SHORT:return function(e,t,n,i,a){for(let r=0;r<n;++r)a[r]=e.getInt16(t+r*i,!0)};case i["a"].UNSIGNED_SHORT:return function(e,t,n,i,a){for(let r=0;r<n;++r)a[r]=e.getUint16(t+r*i,!0)};case i["a"].INT:return function(e,t,n,i,a){for(let r=0;r<n;++r)a[r]=e.getInt32(t+r*i,!0)};case i["a"].UNSIGNED_INT:return function(e,t,n,i,a){for(let r=0;r<n;++r)a[r]=e.getUint32(t+r*i,!0)};case i["a"].FLOAT:return function(e,t,n,i,a){for(let r=0;r<n;++r)a[r]=e.getFloat32(t+r*i,!0)};case i["a"].DOUBLE:return function(e,t,n,i,a){for(let r=0;r<n;++r)a[r]=e.getFloat64(t+r*i,!0)}}}t["a"]=a},9937:function(e,t,n){"use strict";var i=n("352a"),a=n("2f63");function r(){}r.objectLegacy=function(e,t){if(Object(a["a"])(e))for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n],r=t(i,n);if(Object(a["a"])(r))return r}},r.object=function(e,t){if(Object(a["a"])(e)){const n=e.length;for(let i=0;i<n;i++){const n=e[i],r=t(n,i);if(Object(a["a"])(r))return r}}},r.topLevel=function(e,t,n){const i=e[t];return Object(a["a"])(i)&&!Array.isArray(i)?r.objectLegacy(i,n):r.object(i,n)},r.accessor=function(e,t){return r.topLevel(e,"accessors",t)},r.accessorWithSemantic=function(e,t,n){const i={};return r.mesh(e,(function(e){return r.meshPrimitive(e,(function(e){const s=r.meshPrimitiveAttribute(e,(function(e,r){if(0===r.indexOf(t)&&!Object(a["a"])(i[e])){i[e]=!0;const t=n(e);if(Object(a["a"])(t))return t}}));return Object(a["a"])(s)?s:r.meshPrimitiveTarget(e,(function(e){return r.meshPrimitiveTargetAttribute(e,(function(e,r){if(0===r.indexOf(t)&&!Object(a["a"])(i[e])){i[e]=!0;const t=n(e);if(Object(a["a"])(t))return t}}))}))}))}))},r.accessorContainingVertexAttributeData=function(e,t){const n={};return r.mesh(e,(function(e){return r.meshPrimitive(e,(function(e){const i=r.meshPrimitiveAttribute(e,(function(e){if(!Object(a["a"])(n[e])){n[e]=!0;const i=t(e);if(Object(a["a"])(i))return i}}));return Object(a["a"])(i)?i:r.meshPrimitiveTarget(e,(function(e){return r.meshPrimitiveTargetAttribute(e,(function(e){if(!Object(a["a"])(n[e])){n[e]=!0;const i=t(e);if(Object(a["a"])(i))return i}}))}))}))}))},r.accessorContainingIndexData=function(e,t){const n={};return r.mesh(e,(function(e){return r.meshPrimitive(e,(function(e){const i=e.indices;if(Object(a["a"])(i)&&!Object(a["a"])(n[i])){n[i]=!0;const e=t(i);if(Object(a["a"])(e))return e}}))}))},r.animation=function(e,t){return r.topLevel(e,"animations",t)},r.animationChannel=function(e,t){const n=e.channels;return r.object(n,t)},r.animationSampler=function(e,t){const n=e.samplers;return r.object(n,t)},r.buffer=function(e,t){return r.topLevel(e,"buffers",t)},r.bufferView=function(e,t){return r.topLevel(e,"bufferViews",t)},r.camera=function(e,t){return r.topLevel(e,"cameras",t)},r.image=function(e,t){return r.topLevel(e,"images",t)},r.material=function(e,t){return r.topLevel(e,"materials",t)},r.materialValue=function(e,t){let n=e.values;Object(a["a"])(e.extensions)&&Object(a["a"])(e.extensions.KHR_techniques_webgl)&&(n=e.extensions.KHR_techniques_webgl.values);for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const e=t(n[i],i);if(Object(a["a"])(e))return e}},r.mesh=function(e,t){return r.topLevel(e,"meshes",t)},r.meshPrimitive=function(e,t){const n=e.primitives;if(Object(a["a"])(n)){const e=n.length;for(let i=0;i<e;i++){const e=n[i],r=t(e,i);if(Object(a["a"])(r))return r}}},r.meshPrimitiveAttribute=function(e,t){const n=e.attributes;for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const e=t(n[i],i);if(Object(a["a"])(e))return e}},r.meshPrimitiveTarget=function(e,t){const n=e.targets;if(Object(a["a"])(n)){const e=n.length;for(let i=0;i<e;++i){const e=t(n[i],i);if(Object(a["a"])(e))return e}}},r.meshPrimitiveTargetAttribute=function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n],r=t(i,n);if(Object(a["a"])(r))return r}},r.node=function(e,t){return r.topLevel(e,"nodes",t)},r.nodeInTree=function(e,t,n){const i=e.nodes;if(Object(a["a"])(i)){const s=t.length;for(let o=0;o<s;o++){const s=t[o],c=i[s];if(Object(a["a"])(c)){let t=n(c,s);if(Object(a["a"])(t))return t;const i=c.children;if(Object(a["a"])(i)&&(t=r.nodeInTree(e,i,n),Object(a["a"])(t)))return t}}}},r.nodeInScene=function(e,t,n){const i=t.nodes;if(Object(a["a"])(i))return r.nodeInTree(e,i,n)},r.program=function(e,t){return Object(i["a"])(e,"KHR_techniques_webgl")?r.object(e.extensions.KHR_techniques_webgl.programs,t):r.topLevel(e,"programs",t)},r.sampler=function(e,t){return r.topLevel(e,"samplers",t)},r.scene=function(e,t){return r.topLevel(e,"scenes",t)},r.shader=function(e,t){return Object(i["a"])(e,"KHR_techniques_webgl")?r.object(e.extensions.KHR_techniques_webgl.shaders,t):r.topLevel(e,"shaders",t)},r.skin=function(e,t){return r.topLevel(e,"skins",t)},r.skinJoint=function(e,t){const n=e.joints;if(Object(a["a"])(n)){const e=n.length;for(let i=0;i<e;i++){const e=n[i],r=t(e);if(Object(a["a"])(r))return r}}},r.techniqueAttribute=function(e,t){const n=e.attributes;for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const e=t(n[i],i);if(Object(a["a"])(e))return e}},r.techniqueUniform=function(e,t){const n=e.uniforms;for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const e=t(n[i],i);if(Object(a["a"])(e))return e}},r.techniqueParameter=function(e,t){const n=e.parameters;for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const e=t(n[i],i);if(Object(a["a"])(e))return e}},r.technique=function(e,t){return Object(i["a"])(e,"KHR_techniques_webgl")?r.object(e.extensions.KHR_techniques_webgl.techniques,t):r.topLevel(e,"techniques",t)},r.texture=function(e,t){return r.topLevel(e,"textures",t)},t["a"]=r},a0f5:function(e,t,n){"use strict";var i=n("dd06"),a=n("abab"),r=n("535a"),s=n("2f63"),o=n("7d62"),c=n("4f04"),u=n("d940"),f=n("c888"),l=n("69e5"),h=n("a894"),b=n("d289"),d=n("6dc0"),m=n("e90c"),p=n("5770"),O=n("9d1c"),_=n("1dca"),g=n("fb17"),j=n("e3b4"),y=n("b7c8"),x=n("5a6c"),v=n("29ab"),w=n("63ae"),T=n("2e78"),S=n("894b"),P=n("a307"),E=n("3626"),I=n("6102"),R=n("25ef");function A(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT),this.geometryInstances=e.geometryInstances,this._hasPerInstanceColors=!0;let t=e.appearance;Object(s["a"])(t)||(t=new T["a"]),this.appearance=t,this.show=Object(r["a"])(e.show,!0),this.classificationType=Object(r["a"])(e.classificationType,x["a"].BOTH),this.debugShowBoundingVolume=Object(r["a"])(e.debugShowBoundingVolume,!1),this._debugShowShadowVolume=Object(r["a"])(e.debugShowShadowVolume,!1),this._primitiveOptions={geometryInstances:void 0,appearance:void 0,vertexCacheOptimize:!1,interleave:Object(r["a"])(e.interleave,!1),releaseGeometryInstances:Object(r["a"])(e.releaseGeometryInstances,!0),allowPicking:Object(r["a"])(e.allowPicking,!0),asynchronous:Object(r["a"])(e.asynchronous,!0),compressVertices:!1,_createShaderProgramFunction:void 0,_createCommandsFunction:void 0,_updateAndQueueCommandsFunction:void 0},this._zIndex=void 0,this._ready=!1;const n=this;this._readyPromise=new Promise((e,t)=>{n._completeLoad=()=>{this._ready=!0,this.releaseGeometryInstances&&(this.geometryInstances=void 0);const n=this._error;Object(s["a"])(n)?t(n):e(this)}}),this._primitive=void 0,this._sp=void 0,this._sp2D=void 0,this._spMorph=void 0,this._renderState=C(!1),this._renderState3DTiles=C(!0),this._renderStateMorph=d["a"].fromCache({cull:{enabled:!0,face:v["a"].FRONT},depthTest:{enabled:!0},blending:y["a"].PRE_MULTIPLIED_ALPHA_BLEND,depthMask:!1})}function V(e,t,n){const a=t.context,r=e._primitive,o=r._attributeLocations;let c=r._batchTable.getVertexShaderCallback()(j["a"]);c=S["a"]._appendShowToShader(r,c),c=S["a"]._appendDistanceDisplayConditionToShader(r,c),c=S["a"]._modifyShaderPosition(e,c,t.scene3DOnly);let u=r._batchTable.getVertexShaderCallback()(g["a"]);u=S["a"]._appendShowToShader(r,u),u=S["a"]._appendDistanceDisplayConditionToShader(r,u),u=S["a"]._modifyShaderPosition(e,u,t.scene3DOnly);let f=r._batchTable.getVertexShaderCallback()(O["a"]);const l=["GLOBE_MINIMUM_ALTITUDE "+t.mapProjection.ellipsoid.minimumRadius.toFixed(1)];let h="",b="";Object(s["a"])(n.material)?(b=Object(s["a"])(n.material)?n.material.shaderSource:"",-1!==b.search(/varying\s+float\s+v_polylineAngle;/g)&&l.push("ANGLE_VARYING"),-1!==b.search(/varying\s+float\s+v_width;/g)&&l.push("WIDTH_VARYING")):h="PER_INSTANCE_COLOR",l.push(h);const d=e.debugShowShadowVolume?["DEBUG_SHOW_VOLUME",h]:[h],y=new p["a"]({defines:l,sources:[c]}),x=new p["a"]({defines:d,sources:[b,f]});e._sp=m["a"].replaceCache({context:a,shaderProgram:r._sp,vertexShaderSource:y,fragmentShaderSource:x,attributeLocations:o});let v=a.shaderCache.getDerivedShaderProgram(e._sp,"2dColor");if(!Object(s["a"])(v)){const t=new p["a"]({defines:l.concat(["COLUMBUS_VIEW_2D"]),sources:[c]});v=a.shaderCache.createDerivedShaderProgram(e._sp,"2dColor",{context:a,shaderProgram:e._sp2D,vertexShaderSource:t,fragmentShaderSource:x,attributeLocations:o})}e._sp2D=v;let w=a.shaderCache.getDerivedShaderProgram(e._sp,"MorphColor");if(!Object(s["a"])(w)){const t=new p["a"]({defines:l.concat(["MAX_TERRAIN_HEIGHT "+i["a"]._defaultMaxTerrainHeight.toFixed(1)]),sources:[u]});f=r._batchTable.getVertexShaderCallback()(_["a"]);const n=new p["a"]({defines:d,sources:[b,f]});w=a.shaderCache.createDerivedShaderProgram(e._sp,"MorphColor",{context:a,shaderProgram:e._spMorph,vertexShaderSource:t,fragmentShaderSource:n,attributeLocations:o})}e._spMorph=w}function C(e){return d["a"].fromCache({cull:{enabled:!0},blending:y["a"].PRE_MULTIPLIED_ALPHA_BLEND,depthMask:!1,stencilTest:{enabled:e,frontFunction:I["a"].EQUAL,frontOperation:{fail:R["a"].KEEP,zFail:R["a"].KEEP,zPass:R["a"].KEEP},backFunction:I["a"].EQUAL,backOperation:{fail:R["a"].KEEP,zFail:R["a"].KEEP,zPass:R["a"].KEEP},reference:E["a"].CESIUM_3D_TILE_MASK,mask:E["a"].CESIUM_3D_TILE_MASK}})}function L(e,t,n,i,a,r){const o=e._primitive,c=o._va.length;a.length=c,r.length=c;const u=t instanceof w["a"],f=u?{}:n._uniforms,l=o._batchTable.getUniformMapCallback()(f);for(let d=0;d<c;d++){const t=o._va[d];let n=a[d];Object(s["a"])(n)||(n=a[d]=new h["a"]({owner:e,primitiveType:o._primitiveType})),n.vertexArray=t,n.renderState=e._renderState,n.shaderProgram=e._sp,n.uniformMap=l,n.pass=b["a"].TERRAIN_CLASSIFICATION,n.pickId="czm_batchTable_pickColor(v_endPlaneNormalEcAndBatchId.w)";const i=h["a"].shallowClone(n,n.derivedCommands.tileset);i.renderState=e._renderState3DTiles,i.pass=b["a"].CESIUM_3D_TILE_CLASSIFICATION,n.derivedCommands.tileset=i;const r=h["a"].shallowClone(n,n.derivedCommands.color2D);r.shaderProgram=e._sp2D,n.derivedCommands.color2D=r;const c=h["a"].shallowClone(i,i.derivedCommands.color2D);c.shaderProgram=e._sp2D,i.derivedCommands.color2D=c;const u=h["a"].shallowClone(n,n.derivedCommands.colorMorph);u.renderState=e._renderStateMorph,u.shaderProgram=e._spMorph,u.pickId="czm_batchTable_pickColor(v_batchId)",n.derivedCommands.colorMorph=u}}function D(e,t,n,i,a,r,s){n.mode===P["a"].MORPHING?t=t.derivedCommands.colorMorph:n.mode!==P["a"].SCENE3D&&(t=t.derivedCommands.color2D),t.modelMatrix=i,t.boundingVolume=r,t.cull=a,t.debugShowBoundingVolume=s,n.commandList.push(t)}function N(e,t,n,i,a,r,o){const c=e._primitive;let u;S["a"]._updateBoundingVolumes(c,t,a),t.mode===P["a"].SCENE3D?u=c._boundingSphereWC:t.mode===P["a"].COLUMBUS_VIEW?u=c._boundingSphereCV:t.mode===P["a"].SCENE2D&&Object(s["a"])(c._boundingSphere2D)?u=c._boundingSphere2D:Object(s["a"])(c._boundingSphereMorph)&&(u=c._boundingSphereMorph);const f=t.mode===P["a"].MORPHING,l=e.classificationType,h=l!==x["a"].CESIUM_3D_TILE,b=l!==x["a"].TERRAIN&&!f;let d;const m=t.passes;if(m.render||m.pick&&c.allowPicking){const i=n.length;for(let s=0;s<i;++s){const i=u[s];h&&(d=n[s],D(e,d,t,a,r,i,o)),b&&(d=n[s].derivedCommands.tileset,D(e,d,t,a,r,i,o))}}}Object.defineProperties(A.prototype,{interleave:{get:function(){return this._primitiveOptions.interleave}},releaseGeometryInstances:{get:function(){return this._primitiveOptions.releaseGeometryInstances}},allowPicking:{get:function(){return this._primitiveOptions.allowPicking}},asynchronous:{get:function(){return this._primitiveOptions.asynchronous}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise}},debugShowShadowVolume:{get:function(){return this._debugShowShadowVolume}}}),A.initializeTerrainHeights=function(){return i["a"].initialize()},A.prototype.update=function(e){if(!Object(s["a"])(this._primitive)&&!Object(s["a"])(this.geometryInstances))return;if(!i["a"].initialized)return void A.initializeTerrainHeights();let t;const n=this,r=this._primitiveOptions;if(!Object(s["a"])(this._primitive)){const i=Array.isArray(this.geometryInstances)?this.geometryInstances:[this.geometryInstances],o=i.length,c=new Array(o);let h;for(t=0;t<o;++t)if(h=i[t].attributes,!Object(s["a"])(h)||!Object(s["a"])(h.color)){this._hasPerInstanceColors=!1;break}for(t=0;t<o;++t){const r=i[t];h={};const o=r.attributes;for(const e in o)o.hasOwnProperty(e)&&(h[e]=o[e]);Object(s["a"])(h.width)||(h.width=new f["a"]({componentDatatype:a["a"].UNSIGNED_BYTE,componentsPerAttribute:1,value:[r.geometry.width]})),r.geometry._scene3DOnly=e.scene3DOnly,l["a"].setProjectionAndEllipsoid(r.geometry,e.mapProjection),c[t]=new u["a"]({geometry:r.geometry,attributes:h,id:r.id,pickPrimitive:n})}r.geometryInstances=c,r.appearance=this.appearance,r._createShaderProgramFunction=function(e,t,i){V(n,t,i)},r._createCommandsFunction=function(e,t,i,a,r,s,o){L(n,t,i,a,s,o)},r._updateAndQueueCommandsFunction=function(e,t,i,a,r,s,o,c){N(n,t,i,a,r,s,o)},this._primitive=new S["a"](r),this._primitive.readyPromise.then(this._completeLoad)}if(this.appearance instanceof w["a"]&&!this._hasPerInstanceColors)throw new c["a"]("All GeometryInstances must have color attributes to use PolylineColorAppearance with GroundPolylinePrimitive.");this._primitive.appearance=this.appearance,this._primitive.show=this.show,this._primitive.debugShowBoundingVolume=this.debugShowBoundingVolume,this._primitive.update(e)},A.prototype.getGeometryInstanceAttributes=function(e){return this._primitive.getGeometryInstanceAttributes(e)},A.isSupported=function(e){return e.frameState.context.depthTexture},A.prototype.isDestroyed=function(){return!1},A.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),this._sp=this._sp&&this._sp.destroy(),this._sp2D=void 0,this._spMorph=void 0,Object(o["a"])(this)},t["a"]=A},a454:function(e,t,n){"use strict";var i=n("3eaa"),a=n("9937"),r=n("535a"),s=n("2f63"),o=n("daa2");const c=[o["a"].FUNC_ADD,o["a"].FUNC_ADD],u=[o["a"].ONE,o["a"].ZERO,o["a"].ONE,o["a"].ZERO];function f(e,t){const n=e.enable;return!!Object(s["a"])(n)&&n.indexOf(t)>-1}const l=[o["a"].ZERO,o["a"].ONE,o["a"].SRC_COLOR,o["a"].ONE_MINUS_SRC_COLOR,o["a"].SRC_ALPHA,o["a"].ONE_MINUS_SRC_ALPHA,o["a"].DST_ALPHA,o["a"].ONE_MINUS_DST_ALPHA,o["a"].DST_COLOR,o["a"].ONE_MINUS_DST_COLOR];function h(e,t){if(!Object(s["a"])(e))return t;for(let n=0;n<4;n++)if(-1===l.indexOf(e[n]))return t;return e}function b(e){const t={},n={},l=e.techniques;return Object(s["a"])(l)?(a["a"].technique(e,(function(e,i){const a=e.states;if(Object(s["a"])(a)){const l=n[i]={};if(f(a,o["a"].BLEND)){l.alphaMode="BLEND";const e=a.functions;Object(s["a"])(e)&&(Object(s["a"])(e.blendEquationSeparate)||Object(s["a"])(e.blendFuncSeparate))&&(t[i]={blendEquation:Object(r["a"])(e.blendEquationSeparate,c),blendFactors:h(e.blendFuncSeparate,u)})}f(a,o["a"].CULL_FACE)||(l.doubleSided=!0),delete e.states}})),Object.keys(t).length>0&&(Object(s["a"])(e.extensions)||(e.extensions={}),Object(i["a"])(e,"KHR_blend")),a["a"].material(e,(function(e){if(Object(s["a"])(e.technique)){const i=n[e.technique];a["a"].objectLegacy(i,(function(t,n){e[n]=t}));const r=t[e.technique];Object(s["a"])(r)&&(Object(s["a"])(e.extensions)||(e.extensions={}),e.extensions.KHR_blend=r)}})),e):e}t["a"]=b},a97f:function(e,t,n){"use strict";var i=n("c293"),a=n("917f"),r=n("8586"),s=n("abab"),o=n("2f63");function c(e,t){const n=Object(i["a"])(e,t),c=s["a"].getSizeInBytes(t.componentType),u=Object(r["a"])(t.type),f=t.count,l=new Array(u*f);if(!Object(o["a"])(t.bufferView))return l.fill(0);const h=e.bufferViews[t.bufferView],b=e.buffers[h.buffer].extras._pipeline.source;let d=t.byteOffset+h.byteOffset+b.byteOffset;const m=new DataView(b.buffer),p=new Array(u),O=Object(a["a"])(t.componentType);for(let i=0;i<f;++i){O(m,d,u,c,p);for(let e=0;e<u;++e)l[i*u+e]=p[e];d+=n}return l}t["a"]=c},aae8:function(e,t,n){"use strict";var i=n("c293"),a=n("917f"),r=n("8586"),s=n("abab"),o=n("2f63");function c(e,t){const n=e.bufferViews,c=e.buffers,u=t.bufferView,f=Object(r["a"])(t.type);if(!Object(o["a"])(t.bufferView))return{min:new Array(f).fill(0),max:new Array(f).fill(0)};const l=new Array(f).fill(Number.POSITIVE_INFINITY),h=new Array(f).fill(Number.NEGATIVE_INFINITY),b=n[u],d=b.buffer,m=c[d],p=m.extras._pipeline.source,O=t.count,_=Object(i["a"])(e,t);let g=t.byteOffset+b.byteOffset+p.byteOffset;const j=t.componentType,y=s["a"].getSizeInBytes(j),x=new DataView(p.buffer),v=new Array(f),w=Object(a["a"])(j);for(let i=0;i<O;i++){w(x,g,f,y,v);for(let e=0;e<f;e++){const t=v[e];l[e]=Math.min(l[e],t),h[e]=Math.max(h[e],t)}g+=_}return{min:l,max:h}}t["a"]=c},acad:function(e,t,n){"use strict";var i=n("dd06"),a=n("cef5"),r=n("be18"),s=n("bef8"),o=n("535a"),c=n("2f63"),u=n("7d62"),f=n("d940"),l=n("78e5"),h=n("eace"),b=n("c698"),d=n("e8b2"),m=n("5a6c"),p=n("3a8e"),O=n("a307"),_=n("2a1b");const g={u_globeMinimumAltitude:function(){return 55e3}};function j(e){e=Object(o["a"])(e,o["a"].EMPTY_OBJECT);let t=e.appearance;const n=e.geometryInstances;if(!Object(c["a"])(t)&&Object(c["a"])(n)){const e=Array.isArray(n)?n:[n],i=e.length;for(let n=0;n<i;n++){const i=e[n].attributes;if(Object(c["a"])(i)&&Object(c["a"])(i.color)){t=new p["a"]({flat:!0});break}}}this.appearance=t,this.geometryInstances=e.geometryInstances,this.show=Object(o["a"])(e.show,!0),this.classificationType=Object(o["a"])(e.classificationType,m["a"].BOTH),this.debugShowBoundingVolume=Object(o["a"])(e.debugShowBoundingVolume,!1),this.debugShowShadowVolume=Object(o["a"])(e.debugShowShadowVolume,!1),this._boundingVolumes=[],this._boundingVolumes2D=[],this._ready=!1;const a=this;this._readyPromise=new Promise((e,t)=>{a._completeLoad=()=>{if(this._ready)return;this._ready=!0,this.releaseGeometryInstances&&(this.geometryInstances=void 0);const n=this._error;Object(c["a"])(n)?t(n):e(this)}}),this._primitive=void 0,this._maxHeight=void 0,this._minHeight=void 0,this._maxTerrainHeight=i["a"]._defaultMaxTerrainHeight,this._minTerrainHeight=i["a"]._defaultMinTerrainHeight,this._boundingSpheresKeys=[],this._boundingSpheres=[],this._useFragmentCulling=!1,this._zIndex=void 0;const r=this;this._classificationPrimitiveOptions={geometryInstances:void 0,appearance:void 0,vertexCacheOptimize:Object(o["a"])(e.vertexCacheOptimize,!1),interleave:Object(o["a"])(e.interleave,!1),releaseGeometryInstances:Object(o["a"])(e.releaseGeometryInstances,!0),allowPicking:Object(o["a"])(e.allowPicking,!0),asynchronous:Object(o["a"])(e.asynchronous,!0),compressVertices:Object(o["a"])(e.compressVertices,!0),_createBoundingVolumeFunction:void 0,_updateAndQueueCommandsFunction:void 0,_pickPrimitive:r,_extruded:!0,_uniformMap:g}}function y(e){return function(t,n){const i=n.maximumRadius,a=i/Math.cos(.5*t)-i;return e._maxHeight+a}}function x(e){return function(t,n){return e._minHeight}}Object.defineProperties(j.prototype,{vertexCacheOptimize:{get:function(){return this._classificationPrimitiveOptions.vertexCacheOptimize}},interleave:{get:function(){return this._classificationPrimitiveOptions.interleave}},releaseGeometryInstances:{get:function(){return this._classificationPrimitiveOptions.releaseGeometryInstances}},allowPicking:{get:function(){return this._classificationPrimitiveOptions.allowPicking}},asynchronous:{get:function(){return this._classificationPrimitiveOptions.asynchronous}},compressVertices:{get:function(){return this._classificationPrimitiveOptions.compressVertices}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise}}}),j.isSupported=d["a"].isSupported;const v=new r["a"],w=new r["a"],T=new r["a"],S=new s["a"],P=new h["a"];function E(e,t){const n=e.mapProjection.ellipsoid;if(!Object(c["a"])(t.attributes)||!Object(c["a"])(t.attributes.position3DHigh))return Object(c["a"])(t.rectangle)?t.rectangle:void 0;const i=t.attributes.position3DHigh.values,a=t.attributes.position3DLow.values,s=i.length;let o=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;for(let c=0;c<s;c+=3){const e=r["a"].unpack(i,c,v),t=r["a"].unpack(a,c,w),s=r["a"].add(e,t,T),h=n.cartesianToCartographic(s,S),b=h.latitude,d=h.longitude;o=Math.min(o,b),u=Math.min(u,d),f=Math.max(f,b),l=Math.max(l,d)}const h=P;return h.north=f,h.south=o,h.east=l,h.west=u,h}function I(e,t,n){const a=i["a"].getMinimumMaximumHeights(t,n);e._minTerrainHeight=a.minimumTerrainHeight,e._maxTerrainHeight=a.maximumTerrainHeight}function R(e,t,n){const i=t.mapProjection.ellipsoid,s=E(t,n),o=l["a"].fromRectangle(s,e._minHeight,e._maxHeight,i);if(e._boundingVolumes.push(o),!t.scene3DOnly){const n=t.mapProjection,i=a["a"].fromRectangleWithHeights2D(s,n,e._maxHeight,e._minHeight);r["a"].fromElements(i.center.z,i.center.x,i.center.y,i.center),e._boundingVolumes2D.push(i)}}function A(e,t){return Math.floor(e%t/2)}function V(e,t,n,i,a,r,s){const o=e._primitive;n.mode!==O["a"].SCENE3D&&t.shaderProgram===o._spColor&&o._needs2DShader&&(t=t.derivedCommands.appearance2D),t.owner=e,t.modelMatrix=i,t.boundingVolume=r,t.cull=a,t.debugShowBoundingVolume=s,n.commandList.push(t)}function C(e,t,n,i,a,r){const s=e._primitive;n.mode!==O["a"].SCENE3D&&t.shaderProgram===s._spPick&&s._needs2DShader&&(t=t.derivedCommands.pick2D),t.owner=e,t.modelMatrix=i,t.boundingVolume=r,t.cull=a,n.commandList.push(t)}function L(e,t,n,i,a,r,s,o){let c;c=t.mode===O["a"].SCENE3D?e._boundingVolumes:e._boundingVolumes2D;const u=e.classificationType,f=u!==m["a"].CESIUM_3D_TILE,l=u!==m["a"].TERRAIN,h=t.passes,b=e._primitive;let d,p,_;if(h.render){const i=n.length;for(d=0;d<i;++d)p=c[A(d,i)],f&&(_=n[d],V(e,_,t,a,r,p,s)),l&&(_=n[d].derivedCommands.tileset,V(e,_,t,a,r,p,s));if(t.invertClassification){const n=b._commandsIgnoreShow,i=n.length;for(d=0;d<i;++d)p=c[d],_=n[d],V(e,_,t,a,r,p,s)}}if(h.pick){const n=i.length;let s;for(e._useFragmentCulling||(s=b._primitive._pickOffsets),d=0;d<n;++d){if(p=c[A(d,n)],!e._useFragmentCulling){const e=s[A(d,n)];p=c[e.index]}f&&(_=i[d],C(e,_,t,a,r,p)),l&&(_=i[d].derivedCommands.tileset,C(e,_,t,a,r,p))}}}j.initializeTerrainHeights=function(){return i["a"].initialize()},j.prototype.update=function(e){if(!Object(c["a"])(this._primitive)&&!Object(c["a"])(this.geometryInstances))return;if(!i["a"].initialized)return void j.initializeTerrainHeights();const t=this,n=this._classificationPrimitiveOptions;if(!Object(c["a"])(this._primitive)){const a=e.mapProjection.ellipsoid;let r,s,o;const u=Array.isArray(this.geometryInstances)?this.geometryInstances:[this.geometryInstances],l=u.length,m=new Array(l);let p,O;for(p=0;p<l;++p){r=u[p],s=r.geometry;const t=E(e,s);Object(c["a"])(O)?Object(c["a"])(t)&&h["a"].union(O,t,O):O=h["a"].clone(t);const n=r.id;if(Object(c["a"])(n)&&Object(c["a"])(t)){const e=i["a"].getBoundingSphere(t,a);this._boundingSpheresKeys.push(n),this._boundingSpheres.push(e)}o=s.constructor,!Object(c["a"])(o)||Object(c["a"])(o.createShadowVolume)}I(this,O,a);const g=e.terrainExaggeration,v=e.terrainExaggerationRelativeHeight;this._minHeight=b["a"].getHeight(this._minTerrainHeight,g,v),this._maxHeight=b["a"].getHeight(this._maxTerrainHeight,g,v);const w=j._supportsMaterials(e.context);if(this._useFragmentCulling=w,w){let t,n=!0;for(p=0;p<l;++p)if(r=u[p],s=r.geometry,O=E(e,s),_["a"].shouldUseSphericalCoordinates(O)){n=!1;break}for(p=0;p<l;++p){r=u[p],s=r.geometry,o=s.constructor;const i=E(e,s),c=s.textureCoordinateRotationPoints;t=n?_["a"].getPlanarTextureCoordinateAttributes(i,c,a,e.mapProjection,this._maxHeight):_["a"].getSphericalExtentGeometryInstanceAttributes(i,c,a,e.mapProjection);const l=r.attributes;for(const e in l)l.hasOwnProperty(e)&&(t[e]=l[e]);m[p]=new f["a"]({geometry:o.createShadowVolume(s,x(this),y(this)),attributes:t,id:r.id})}}else for(p=0;p<l;++p)r=u[p],s=r.geometry,o=s.constructor,m[p]=new f["a"]({geometry:o.createShadowVolume(s,x(this),y(this)),attributes:r.attributes,id:r.id});n.geometryInstances=m,n.appearance=this.appearance,n._createBoundingVolumeFunction=function(e,n){R(t,e,n)},n._updateAndQueueCommandsFunction=function(e,n,i,a,r,s,o,c){L(t,n,i,a,r,s,o,c)},this._primitive=new d["a"](n)}this._primitive.appearance=this.appearance,this._primitive.show=this.show,this._primitive.debugShowShadowVolume=this.debugShowShadowVolume,this._primitive.debugShowBoundingVolume=this.debugShowBoundingVolume,this._primitive.update(e),e.afterRender.push(()=>{Object(c["a"])(this._primitive)&&this._primitive.ready&&this._completeLoad()})},j.prototype.getBoundingSphere=function(e){const t=this._boundingSpheresKeys.indexOf(e);if(-1!==t)return this._boundingSpheres[t]},j.prototype.getGeometryInstanceAttributes=function(e){return this._primitive.getGeometryInstanceAttributes(e)},j.prototype.isDestroyed=function(){return!1},j.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),Object(u["a"])(this)},j._supportsMaterials=function(e){return e.depthTexture},j.supportsMaterials=function(e){return j._supportsMaterials(e.frameState.context)},t["a"]=j},af28:function(e,t,n){"use strict";var i=n("9937"),a=n("169e"),r=n("352a"),s=n("535a"),o=n("2f63");const c=["mesh","node","material","accessor","bufferView","buffer","texture","sampler","image"];function u(e,t){return t=Object(s["a"])(t,c),c.forEach((function(n){t.indexOf(n)>-1&&l(e,n)})),e}const f={accessor:"accessors",buffer:"buffers",bufferView:"bufferViews",image:"images",node:"nodes",material:"materials",mesh:"meshes",sampler:"samplers",texture:"textures"};function l(e,t){const n=f[t],i=e[n];if(Object(o["a"])(i)){let n=0;const a=b[t](e),r=i.length;for(let i=0;i<r;++i)a[i]||(h[t](e,i-n),n++)}}function h(){}function b(){}function d(e,t,n){const i=e.nodes[t];return!(Object(o["a"])(i.mesh)||Object(o["a"])(i.camera)||Object(o["a"])(i.skin)||Object(o["a"])(i.weights)||Object(o["a"])(i.extras)||Object(o["a"])(i.extensions)&&0!==Object.keys(i.extensions).length||Object(o["a"])(n[t]))&&(!Object(o["a"])(i.children)||0===i.children.filter((function(t){return!d(e,t,n)})).length)}h.accessor=function(e,t){const n=e.accessors;n.splice(t,1),i["a"].mesh(e,(function(e){i["a"].meshPrimitive(e,(function(e){i["a"].meshPrimitiveAttribute(e,(function(n,i){n>t&&e.attributes[i]--})),i["a"].meshPrimitiveTarget(e,(function(e){i["a"].meshPrimitiveTargetAttribute(e,(function(n,i){n>t&&e[i]--}))}));const n=e.indices;Object(o["a"])(n)&&n>t&&e.indices--}))})),i["a"].skin(e,(function(e){Object(o["a"])(e.inverseBindMatrices)&&e.inverseBindMatrices>t&&e.inverseBindMatrices--})),i["a"].animation(e,(function(e){i["a"].animationSampler(e,(function(e){Object(o["a"])(e.input)&&e.input>t&&e.input--,Object(o["a"])(e.output)&&e.output>t&&e.output--}))}))},h.buffer=function(e,t){const n=e.buffers;n.splice(t,1),i["a"].bufferView(e,(function(e){Object(o["a"])(e.buffer)&&e.buffer>t&&e.buffer--,Object(o["a"])(e.extensions)&&Object(o["a"])(e.extensions.EXT_meshopt_compression)&&e.extensions.EXT_meshopt_compression.buffer--}))},h.bufferView=function(e,t){const n=e.bufferViews;if(n.splice(t,1),i["a"].accessor(e,(function(e){Object(o["a"])(e.bufferView)&&e.bufferView>t&&e.bufferView--})),i["a"].shader(e,(function(e){Object(o["a"])(e.bufferView)&&e.bufferView>t&&e.bufferView--})),i["a"].image(e,(function(e){Object(o["a"])(e.bufferView)&&e.bufferView>t&&e.bufferView--})),Object(r["a"])(e,"KHR_draco_mesh_compression")&&i["a"].mesh(e,(function(e){i["a"].meshPrimitive(e,(function(e){Object(o["a"])(e.extensions)&&Object(o["a"])(e.extensions.KHR_draco_mesh_compression)&&e.extensions.KHR_draco_mesh_compression.bufferView>t&&e.extensions.KHR_draco_mesh_compression.bufferView--}))})),Object(r["a"])(e,"EXT_feature_metadata")){const n=e.extensions.EXT_feature_metadata,i=n.featureTables;for(const e in i)if(i.hasOwnProperty(e)){const n=i[e],a=n.properties;if(Object(o["a"])(a))for(const e in a)if(a.hasOwnProperty(e)){const n=a[e];Object(o["a"])(n.bufferView)&&n.bufferView>t&&n.bufferView--,Object(o["a"])(n.arrayOffsetBufferView)&&n.arrayOffsetBufferView>t&&n.arrayOffsetBufferView--,Object(o["a"])(n.stringOffsetBufferView)&&n.stringOffsetBufferView>t&&n.stringOffsetBufferView--}}}},h.image=function(e,t){const n=e.images;n.splice(t,1),i["a"].texture(e,(function(e){Object(o["a"])(e.source)&&e.source>t&&--e.source;const n=e.extensions;Object(o["a"])(n)&&Object(o["a"])(n.EXT_texture_webp)&&n.EXT_texture_webp.source>t?--e.extensions.EXT_texture_webp.source:Object(o["a"])(n)&&Object(o["a"])(n.KHR_texture_basisu)&&n.KHR_texture_basisu.source>t&&--e.extensions.KHR_texture_basisu.source}))},h.mesh=function(e,t){const n=e.meshes;n.splice(t,1),i["a"].node(e,(function(e){Object(o["a"])(e.mesh)&&(e.mesh>t?e.mesh--:e.mesh===t&&delete e.mesh)}))},h.node=function(e,t){const n=e.nodes;n.splice(t,1),i["a"].skin(e,(function(e){Object(o["a"])(e.skeleton)&&e.skeleton>t&&e.skeleton--,e.joints=e.joints.map((function(e){return e>t?e-1:e}))})),i["a"].animation(e,(function(e){i["a"].animationChannel(e,(function(e){Object(o["a"])(e.target)&&Object(o["a"])(e.target.node)&&e.target.node>t&&e.target.node--}))})),i["a"].technique(e,(function(e){i["a"].techniqueUniform(e,(function(e){Object(o["a"])(e.node)&&e.node>t&&e.node--}))})),i["a"].node(e,(function(e){Object(o["a"])(e.children)&&(e.children=e.children.filter((function(e){return e!==t})).map((function(e){return e>t?e-1:e})))})),i["a"].scene(e,(function(e){e.nodes=e.nodes.filter((function(e){return e!==t})).map((function(e){return e>t?e-1:e}))}))},h.material=function(e,t){const n=e.materials;n.splice(t,1),i["a"].mesh(e,(function(e){i["a"].meshPrimitive(e,(function(e){Object(o["a"])(e.material)&&e.material>t&&e.material--}))}))},h.sampler=function(e,t){const n=e.samplers;n.splice(t,1),i["a"].texture(e,(function(e){Object(o["a"])(e.sampler)&&e.sampler>t&&--e.sampler}))},h.texture=function(e,t){const n=e.textures;if(n.splice(t,1),i["a"].material(e,(function(e){Object(a["a"])(e,(function(e,n){n.index>t&&--n.index}))})),Object(r["a"])(e,"EXT_feature_metadata")){i["a"].mesh(e,(function(e){i["a"].meshPrimitive(e,(function(e){const n=e.extensions;if(Object(o["a"])(n)&&Object(o["a"])(n.EXT_feature_metadata)){const e=n.EXT_feature_metadata,i=e.featureIdTextures;if(Object(o["a"])(i)){const e=i.length;for(let n=0;n<e;++n){const e=i[n],a=e.featureIds.texture;a.index>t&&--a.index}}}}))}));const n=e.extensions.EXT_feature_metadata,a=n.featureTextures;for(const e in a)if(a.hasOwnProperty(e)){const n=a[e],i=n.properties;if(Object(o["a"])(i))for(const e in i)if(i.hasOwnProperty(e)){const n=i[e],a=n.texture;a.index>t&&--a.index}}}},b.accessor=function(e){const t={};return i["a"].mesh(e,(function(e){i["a"].meshPrimitive(e,(function(e){i["a"].meshPrimitiveAttribute(e,(function(e){t[e]=!0})),i["a"].meshPrimitiveTarget(e,(function(e){i["a"].meshPrimitiveTargetAttribute(e,(function(e){t[e]=!0}))}));const n=e.indices;Object(o["a"])(n)&&(t[n]=!0)}))})),i["a"].skin(e,(function(e){Object(o["a"])(e.inverseBindMatrices)&&(t[e.inverseBindMatrices]=!0)})),i["a"].animation(e,(function(e){i["a"].animationSampler(e,(function(e){Object(o["a"])(e.input)&&(t[e.input]=!0),Object(o["a"])(e.output)&&(t[e.output]=!0)}))})),Object(r["a"])(e,"EXT_mesh_gpu_instancing")&&i["a"].node(e,(function(e){Object(o["a"])(e.extensions)&&Object(o["a"])(e.extensions.EXT_mesh_gpu_instancing)&&Object.keys(e.extensions.EXT_mesh_gpu_instancing.attributes).forEach((function(n){const i=e.extensions.EXT_mesh_gpu_instancing.attributes[n];t[i]=!0}))})),t},b.buffer=function(e){const t={};return i["a"].bufferView(e,(function(e){Object(o["a"])(e.buffer)&&(t[e.buffer]=!0),Object(o["a"])(e.extensions)&&Object(o["a"])(e.extensions.EXT_meshopt_compression)&&(t[e.extensions.EXT_meshopt_compression.buffer]=!0)})),t},b.bufferView=function(e){const t={};if(i["a"].accessor(e,(function(e){Object(o["a"])(e.bufferView)&&(t[e.bufferView]=!0)})),i["a"].shader(e,(function(e){Object(o["a"])(e.bufferView)&&(t[e.bufferView]=!0)})),i["a"].image(e,(function(e){Object(o["a"])(e.bufferView)&&(t[e.bufferView]=!0)})),Object(r["a"])(e,"KHR_draco_mesh_compression")&&i["a"].mesh(e,(function(e){i["a"].meshPrimitive(e,(function(e){Object(o["a"])(e.extensions)&&Object(o["a"])(e.extensions.KHR_draco_mesh_compression)&&(t[e.extensions.KHR_draco_mesh_compression.bufferView]=!0)}))})),Object(r["a"])(e,"EXT_feature_metadata")){const n=e.extensions.EXT_feature_metadata,i=n.featureTables;for(const e in i)if(i.hasOwnProperty(e)){const n=i[e],a=n.properties;if(Object(o["a"])(a))for(const e in a)if(a.hasOwnProperty(e)){const n=a[e];Object(o["a"])(n.bufferView)&&(t[n.bufferView]=!0),Object(o["a"])(n.arrayOffsetBufferView)&&(t[n.arrayOffsetBufferView]=!0),Object(o["a"])(n.stringOffsetBufferView)&&(t[n.stringOffsetBufferView]=!0)}}}return t},b.image=function(e){const t={};return i["a"].texture(e,(function(e){Object(o["a"])(e.source)&&(t[e.source]=!0),Object(o["a"])(e.extensions)&&Object(o["a"])(e.extensions.EXT_texture_webp)?t[e.extensions.EXT_texture_webp.source]=!0:Object(o["a"])(e.extensions)&&Object(o["a"])(e.extensions.KHR_texture_basisu)&&(t[e.extensions.KHR_texture_basisu.source]=!0)})),t},b.mesh=function(e){const t={};return i["a"].node(e,(function(n){if(Object(o["a"])(n.mesh&&Object(o["a"])(e.meshes))){const i=e.meshes[n.mesh];Object(o["a"])(i)&&Object(o["a"])(i.primitives)&&i.primitives.length>0&&(t[n.mesh]=!0)}})),t},b.node=function(e){const t={};return i["a"].skin(e,(function(e){Object(o["a"])(e.skeleton)&&(t[e.skeleton]=!0),i["a"].skinJoint(e,(function(e){t[e]=!0}))})),i["a"].animation(e,(function(e){i["a"].animationChannel(e,(function(e){Object(o["a"])(e.target)&&Object(o["a"])(e.target.node)&&(t[e.target.node]=!0)}))})),i["a"].technique(e,(function(e){i["a"].techniqueUniform(e,(function(e){Object(o["a"])(e.node)&&(t[e.node]=!0)}))})),i["a"].node(e,(function(n,i){d(e,i,t)||(t[i]=!0)})),t},b.material=function(e){const t={};return i["a"].mesh(e,(function(e){i["a"].meshPrimitive(e,(function(e){Object(o["a"])(e.material)&&(t[e.material]=!0)}))})),t},b.texture=function(e){const t={};if(i["a"].material(e,(function(e){Object(a["a"])(e,(function(e){t[e]=!0}))})),Object(r["a"])(e,"EXT_feature_metadata")){i["a"].mesh(e,(function(e){i["a"].meshPrimitive(e,(function(e){const n=e.extensions;if(Object(o["a"])(n)&&Object(o["a"])(n.EXT_feature_metadata)){const e=n.EXT_feature_metadata,i=e.featureIdTextures;if(Object(o["a"])(i)){const e=i.length;for(let n=0;n<e;++n){const e=i[n],a=e.featureIds.texture;t[a.index]=!0}}}}))}));const n=e.extensions.EXT_feature_metadata,a=n.featureTextures;for(const e in a)if(a.hasOwnProperty(e)){const n=a[e],i=n.properties;if(Object(o["a"])(i))for(const e in i)if(i.hasOwnProperty(e)){const n=i[e],a=n.texture;t[a.index]=!0}}}return t},b.sampler=function(e){const t={};return i["a"].texture(e,(function(e){Object(o["a"])(e.sampler)&&(t[e.sampler]=!0)})),t},t["a"]=u},bc46:function(e,t,n){"use strict";var i=n("3eaa"),a=n("8e67"),r=n("aae8"),s=n("9937"),o=n("c293"),c=n("8586"),u=n("a454"),f=n("63aa"),l=n("af28"),h=n("bd81"),b=n("be18"),d=n("a561"),m=n("dc1c"),p=n("abab"),O=n("535a"),_=n("2f63"),g=n("52f0"),j=n("0260"),y=n("daa2");const x={.8:I,"1.0":$,"2.0":void 0};function v(e,t){t=Object(O["a"])(t,O["a"].EMPTY_OBJECT);const n=t.targetVersion;let i=e.version;e.asset=Object(O["a"])(e.asset,{version:"1.0"}),e.asset.version=Object(O["a"])(e.asset.version,"1.0"),i=Object(O["a"])(i,e.asset.version).toString(),Object.prototype.hasOwnProperty.call(x,i)||(Object(_["a"])(i)&&(i=i.substring(0,3)),Object.prototype.hasOwnProperty.call(x,i)||(i="1.0"));let a=x[i];while(Object(_["a"])(a)){if(i===n)break;a(e,t),i=e.asset.version,a=x[i]}return e}function w(e){const t=e.materials;for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n],i=e.instanceTechnique;Object(_["a"])(i)&&(e.technique=i.technique,e.values=i.values,delete e.instanceTechnique)}}function T(e){const t=e.meshes;for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n],i=e.primitives;if(Object(_["a"])(i)){const e=i.length;for(let t=0;t<e;++t){const e=i[t],n=Object(O["a"])(e.primitive,y["a"].TRIANGLES);e.mode=Object(O["a"])(e.mode,n),delete e.primitive}}}}function S(e){const t=e.nodes,n=new b["a"],i=new j["a"];for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)){const e=t[a];if(Object(_["a"])(e.rotation)){const t=e.rotation;b["a"].fromArray(t,0,n),j["a"].fromAxisAngle(n,t[3],i),e.rotation=[i.x,i.y,i.z,i.w]}const r=e.instanceSkin;Object(_["a"])(r)&&(e.skeletons=r.skeletons,e.skin=r.skin,e.meshes=r.meshes,delete e.instanceSkin)}}function P(e){const t=e.animations,n=e.accessors,i=e.bufferViews,a=e.buffers,r={},s=new b["a"],o=new j["a"];for(const u in t)if(Object.prototype.hasOwnProperty.call(t,u)){const e=t[u],f=e.channels,l=e.parameters,h=e.samplers;if(Object(_["a"])(f)){const e=f.length;for(let t=0;t<e;++t){const e=f[t];if("rotation"===e.target.path){const t=l[h[e.sampler].output];if(Object(_["a"])(r[t]))continue;r[t]=!0;const u=n[t],f=i[u.bufferView],d=a[f.buffer],m=d.extras._pipeline.source,O=m.byteOffset+f.byteOffset+u.byteOffset,g=u.componentType,y=u.count,x=Object(c["a"])(u.type),v=u.count*x,w=p["a"].createArrayBufferView(g,m.buffer,O,v);for(let e=0;e<y;e++){const t=e*x;b["a"].unpack(w,t,s);const n=w[t+3];j["a"].fromAxisAngle(s,n,o),j["a"].pack(o,w,t)}}}}}}function E(e){const t=e.techniques;for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n],i=e.passes;if(Object(_["a"])(i)){const t=Object(O["a"])(e.pass,"defaultPass");if(Object.prototype.hasOwnProperty.call(i,t)){const n=i[t],a=n.instanceProgram;e.attributes=Object(O["a"])(e.attributes,a.attributes),e.program=Object(O["a"])(e.program,a.program),e.uniforms=Object(O["a"])(e.uniforms,a.uniforms),e.states=Object(O["a"])(e.states,n.states)}delete e.passes,delete e.pass}}}function I(e){Object(_["a"])(e.asset)||(e.asset={});const t=e.asset;if(t.version="1.0","string"===typeof t.profile){const e=t.profile.split(" ");t.profile={api:e[0],version:e[1]}}else t.profile={};if(Object(_["a"])(e.version)&&delete e.version,w(e),T(e),S(e),P(e),E(e),Object(_["a"])(e.allExtensions)&&(e.extensionsUsed=e.allExtensions,delete e.allExtensions),Object(_["a"])(e.lights)){const t=Object(O["a"])(e.extensions,{});e.extensions=t;const n=Object(O["a"])(t.KHR_materials_common,{});t.KHR_materials_common=n,n.lights=e.lights,delete e.lights,Object(i["a"])(e,"KHR_materials_common")}}function R(e){const t=e.animations;for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n],i=e.parameters;if(Object(_["a"])(i)){const t=e.samplers;for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];n.input=i[n.input],n.output=i[n.output]}delete e.parameters}}}function A(e,t){const n=[];for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];t[i]=n.length,n.push(a),Object(_["a"])(a.name)||(a.name=i)}return n}function V(e){let t;const n={accessors:{},animations:{},buffers:{},bufferViews:{},cameras:{},images:{},materials:{},meshes:{},nodes:{},programs:{},samplers:{},scenes:{},shaders:{},skins:{},textures:{},techniques:{}};let i;const r={},o=e.nodes;for(const a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i=o[a].jointName,Object(_["a"])(i)&&(r[i]=a));for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&Object(_["a"])(n[a])){const t={},i=e[a];e[a]=A(i,t),n[a]=t}for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(r[i]=n.nodes[r[i]]);Object(_["a"])(e.scene)&&(e.scene=n.scenes[e.scene]),s["a"].bufferView(e,(function(e){Object(_["a"])(e.buffer)&&(e.buffer=n.buffers[e.buffer])})),s["a"].accessor(e,(function(e){Object(_["a"])(e.bufferView)&&(e.bufferView=n.bufferViews[e.bufferView])})),s["a"].shader(e,(function(e){const t=e.extensions;if(Object(_["a"])(t)){const i=t.KHR_binary_glTF;Object(_["a"])(i)&&(e.bufferView=n.bufferViews[i.bufferView],delete t.KHR_binary_glTF),0===Object.keys(t).length&&delete e.extensions}})),s["a"].program(e,(function(e){Object(_["a"])(e.vertexShader)&&(e.vertexShader=n.shaders[e.vertexShader]),Object(_["a"])(e.fragmentShader)&&(e.fragmentShader=n.shaders[e.fragmentShader])})),s["a"].technique(e,(function(e){Object(_["a"])(e.program)&&(e.program=n.programs[e.program]),s["a"].techniqueParameter(e,(function(e){Object(_["a"])(e.node)&&(e.node=n.nodes[e.node]);const t=e.value;"string"===typeof t&&(e.value={index:n.textures[t]})}))})),s["a"].mesh(e,(function(e){s["a"].meshPrimitive(e,(function(e){Object(_["a"])(e.indices)&&(e.indices=n.accessors[e.indices]),s["a"].meshPrimitiveAttribute(e,(function(t,i){e.attributes[i]=n.accessors[t]})),Object(_["a"])(e.material)&&(e.material=n.materials[e.material])}))})),s["a"].node(e,(function(i){let r=i.children;if(Object(_["a"])(r)){const e=r.length;for(t=0;t<e;++t)r[t]=n.nodes[r[t]]}if(Object(_["a"])(i.meshes)){const s=i.meshes,o=s.length;if(o>0)for(i.mesh=n.meshes[s[0]],t=1;t<o;++t){const o={mesh:n.meshes[s[t]]},c=Object(a["a"])(e.nodes,o);Object(_["a"])(r)||(r=[],i.children=r),r.push(c)}delete i.meshes}if(Object(_["a"])(i.camera)&&(i.camera=n.cameras[i.camera]),Object(_["a"])(i.skin)&&(i.skin=n.skins[i.skin]),Object(_["a"])(i.skeletons)){const t=i.skeletons,a=t.length;if(a>0&&Object(_["a"])(i.skin)){const a=e.skins[i.skin];a.skeleton=n.nodes[t[0]]}delete i.skeletons}Object(_["a"])(i.jointName)&&delete i.jointName})),s["a"].skin(e,(function(e){Object(_["a"])(e.inverseBindMatrices)&&(e.inverseBindMatrices=n.accessors[e.inverseBindMatrices]);const i=e.jointNames;if(Object(_["a"])(i)){const n=[],a=i.length;for(t=0;t<a;++t)n[t]=r[i[t]];e.joints=n,delete e.jointNames}})),s["a"].scene(e,(function(e){const i=e.nodes;if(Object(_["a"])(i)){const e=i.length;for(t=0;t<e;++t)i[t]=n.nodes[i[t]]}})),s["a"].animation(e,(function(e){const t={};e.samplers=A(e.samplers,t),s["a"].animationSampler(e,(function(e){e.input=n.accessors[e.input],e.output=n.accessors[e.output]})),s["a"].animationChannel(e,(function(e){e.sampler=t[e.sampler];const i=e.target;Object(_["a"])(i)&&(i.node=n.nodes[i.id],delete i.id)}))})),s["a"].material(e,(function(e){Object(_["a"])(e.technique)&&(e.technique=n.techniques[e.technique]),s["a"].materialValue(e,(function(t,i){"string"===typeof t&&(e.values[i]={index:n.textures[t]})}));const t=e.extensions;if(Object(_["a"])(t)){const e=t.KHR_materials_common;Object(_["a"])(e)&&s["a"].materialValue(e,(function(t,i){"string"===typeof t&&(e.values[i]={index:n.textures[t]})}))}})),s["a"].image(e,(function(e){const t=e.extensions;if(Object(_["a"])(t)){const i=t.KHR_binary_glTF;Object(_["a"])(i)&&(e.bufferView=n.bufferViews[i.bufferView],e.mimeType=i.mimeType,delete t.KHR_binary_glTF),0===Object.keys(t).length&&delete e.extensions}})),s["a"].texture(e,(function(e){Object(_["a"])(e.sampler)&&(e.sampler=n.samplers[e.sampler]),Object(_["a"])(e.source)&&(e.source=n.images[e.source])}))}function C(e){s["a"].animation(e,(function(e){s["a"].animationSampler(e,(function(e){delete e.name}))}))}function L(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];Array.isArray(n)&&0===n.length&&delete e[t]}s["a"].node(e,(function(e){Object(_["a"])(e.children)&&0===e.children.length&&delete e.children}))}function D(e){const t=e.asset;delete t.profile,delete t.premultipliedAlpha}const N={CESIUM_RTC:!0,KHR_materials_common:!0,WEB3D_quantized_attributes:!0};function M(e){const t=e.extensionsUsed;if(e.extensionsRequired=Object(O["a"])(e.extensionsRequired,[]),Object(_["a"])(t)){const n=t.length;for(let i=0;i<n;++i){const n=t[i];Object(_["a"])(N[n])&&e.extensionsRequired.push(n)}}}function q(e){s["a"].buffer(e,(function(e){delete e.type}))}function H(e){s["a"].texture(e,(function(e){delete e.format,delete e.internalFormat,delete e.target,delete e.type}))}function F(e){s["a"].mesh(e,(function(e){s["a"].meshPrimitive(e,(function(e){s["a"].meshPrimitiveAttribute(e,(function(t,n){"TEXCOORD"===n?e.attributes.TEXCOORD_0=t:"COLOR"===n&&(e.attributes.COLOR_0=t)})),delete e.attributes.TEXCOORD,delete e.attributes.COLOR}))})),s["a"].technique(e,(function(e){s["a"].techniqueParameter(e,(function(e){const t=e.semantic;Object(_["a"])(t)&&("TEXCOORD"===t?e.semantic="TEXCOORD_0":"COLOR"===t&&(e.semantic="COLOR_0"))}))}))}const B={POSITION:!0,NORMAL:!0,TANGENT:!0},k={COLOR:"COLOR",JOINT:"JOINTS",JOINTS:"JOINTS",TEXCOORD:"TEXCOORD",WEIGHT:"WEIGHTS",WEIGHTS:"WEIGHTS"};function U(e){const t={};s["a"].mesh(e,(function(e){s["a"].meshPrimitive(e,(function(e){s["a"].meshPrimitiveAttribute(e,(function(e,n){if("_"!==n.charAt(0)){const e=n.search(/_[0-9]+/g);let i,a=n,r="_0";e>=0&&(a=n.substring(0,e),r=n.substring(e));const s=k[a];Object(_["a"])(s)?(i=s+r,t[n]=i):Object(_["a"])(B[a])||(i="_"+n,t[n]=i)}}));for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n],a=e.attributes[n];Object(_["a"])(a)&&(delete e.attributes[n],e.attributes[i]=a)}}))})),s["a"].technique(e,(function(e){s["a"].techniqueParameter(e,(function(e){const n=t[e.semantic];Object(_["a"])(n)&&(e.semantic=n)}))}))}function K(e){s["a"].camera(e,(function(e){const t=e.perspective;if(Object(_["a"])(t)){const e=t.aspectRatio;Object(_["a"])(e)&&0===e&&delete t.aspectRatio;const n=t.yfov;Object(_["a"])(n)&&0===n&&(t.yfov=1)}}))}function G(e,t){return Object(_["a"])(t.byteStride)&&0!==t.byteStride?t.byteStride:Object(o["a"])(e,t)}function z(e){s["a"].buffer(e,(function(e){Object(_["a"])(e.byteLength)||(e.byteLength=e.extras._pipeline.source.length)})),s["a"].accessor(e,(function(t){const n=t.bufferView;if(Object(_["a"])(n)){const i=e.bufferViews[n],a=G(e,t),r=t.byteOffset+t.count*a;i.byteLength=Math.max(Object(O["a"])(i.byteLength,0),r)}}))}function X(e){let t,n,i;const r=e.bufferViews,o={};s["a"].accessorContainingVertexAttributeData(e,(function(t){const n=e.accessors[t];Object(_["a"])(n.bufferView)&&(o[n.bufferView]=!0)}));const c={};s["a"].accessor(e,(function(e){Object(_["a"])(e.bufferView)&&(c[e.bufferView]=Object(O["a"])(c[e.bufferView],[]),c[e.bufferView].push(e))}));for(const s in c)if(Object.prototype.hasOwnProperty.call(c,s)){i=r[s];const u=c[s];u.sort((function(e,t){return e.byteOffset-t.byteOffset}));let f=0,l=0;const h=u.length;for(t=0;t<h;++t){let c=u[t];const b=G(e,c),d=c.byteOffset,p=c.count*b;delete c.byteStride;const O=t<h-1,_=O?G(e,u[t+1]):void 0;if(b!==_){const e=Object(m["a"])(i,!0);o[s]&&(e.byteStride=b),e.byteOffset+=f,e.byteLength=d+p-f;const h=Object(a["a"])(r,e);for(n=l;n<=t;++n)c=u[n],c.bufferView=h,c.byteOffset=c.byteOffset-f;f=O?u[t+1].byteOffset:void 0,l=t+1}}}Object(l["a"])(e,["accessor","bufferView","buffer"])}function Y(e){s["a"].accessorWithSemantic(e,"POSITION",(function(t){const n=e.accessors[t];if(!Object(_["a"])(n.min)||!Object(_["a"])(n.max)){const t=Object(r["a"])(e,n);n.min=t.min,n.max=t.max}}))}function J(e){return(!Object(_["a"])(e.children)||0===e.children.length)&&(!Object(_["a"])(e.meshes)||0===e.meshes.length)&&!Object(_["a"])(e.camera)&&!Object(_["a"])(e.skin)&&!Object(_["a"])(e.skeletons)&&!Object(_["a"])(e.jointName)&&(!Object(_["a"])(e.translation)||b["a"].fromArray(e.translation).equals(b["a"].ZERO))&&(!Object(_["a"])(e.scale)||b["a"].fromArray(e.scale).equals(new b["a"](1,1,1)))&&(!Object(_["a"])(e.rotation)||d["a"].fromArray(e.rotation).equals(new d["a"](0,0,0,1)))&&(!Object(_["a"])(e.matrix)||g["a"].fromColumnMajorArray(e.matrix).equals(g["a"].IDENTITY))&&!Object(_["a"])(e.extensions)&&!Object(_["a"])(e.extras)}function W(e,t){s["a"].scene(e,(function(e){const n=e.nodes;if(Object(_["a"])(n)){const e=n.length;for(let i=e;i>=0;--i)if(n[i]===t)return void n.splice(i,1)}})),s["a"].node(e,(function(n,i){if(Object(_["a"])(n.children)){const a=n.children.indexOf(t);a>-1&&(n.children.splice(a,1),J(n)&&W(e,i))}})),delete e.nodes[t]}function Z(e){return s["a"].node(e,(function(t,n){J(t)&&W(e,n)})),e}function Q(e){s["a"].animation(e,(function(t){s["a"].animationSampler(t,(function(t){const n=e.accessors[t.input];if(!Object(_["a"])(n.min)||!Object(_["a"])(n.max)){const t=Object(r["a"])(e,n);n.min=t.min,n.max=t.max}}))}))}function $(e){e.asset=Object(O["a"])(e.asset,{}),e.asset.version="2.0",w(e),R(e),Z(e),V(e),C(e),D(e),M(e),z(e),X(e),Y(e),Q(e),q(e),H(e),F(e),U(e),Object(h["a"])(e),K(e),Object(u["a"])(e),Object(f["a"])(e),L(e)}t["a"]=v},bd81:function(e,t,n){"use strict";var i=n("3921"),a=n("9937"),r=n("a97f"),s=n("abab"),o=n("daa2");function c(e){let t;return a["a"].accessorWithSemantic(e,"JOINTS_0",(function(n){const i=e.accessors[n];t=i.componentType,t===o["a"].BYTE?u(e,i,s["a"].UNSIGNED_BYTE):t!==o["a"].UNSIGNED_BYTE&&t!==o["a"].UNSIGNED_SHORT&&u(e,i,s["a"].UNSIGNED_SHORT)})),a["a"].accessorWithSemantic(e,"WEIGHTS_0",(function(n){const i=e.accessors[n];t=i.componentType,t===o["a"].BYTE?u(e,i,s["a"].UNSIGNED_BYTE):t===o["a"].SHORT&&u(e,i,s["a"].UNSIGNED_SHORT)})),e}function u(e,t,n){const a=s["a"].createTypedArray(n,Object(r["a"])(e,t)),o=new Uint8Array(a.buffer);t.bufferView=Object(i["a"])(e,o),t.componentType=n,t.byteOffset=0}t["a"]=c},c1bd:function(e,t,n){"use strict";var i=n("586e"),a=n("2f63");function r(e,t){const n=e.extensionsUsed;if(Object(a["a"])(n)){const a=n.indexOf(t);a>=0&&n.splice(a,1),Object(i["a"])(e,t),0===n.length&&delete e.extensionsUsed}}t["a"]=r},c293:function(e,t,n){"use strict";var i=n("8586"),a=n("abab"),r=n("2f63");function s(e,t){const n=t.bufferView;if(Object(r["a"])(n)){const t=e.bufferViews[n];if(Object(r["a"])(t.byteStride)&&t.byteStride>0)return t.byteStride}return a["a"].getSizeInBytes(t.componentType)*Object(i["a"])(t.type)}t["a"]=s}}]);